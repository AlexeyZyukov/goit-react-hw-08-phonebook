(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{10:function(e,t,a){e.exports={form:"RegisterPageView_form__1_aT9",label:"RegisterPageView_label__3u9cc",input:"RegisterPageView_input__32Whd",button:"RegisterPageView_button__11ug6"}},14:function(e,t,a){e.exports={form:"LoginPageView_form__3cuHZ",label:"LoginPageView_label__2PxE3",input:"LoginPageView_input__33z75",button:"LoginPageView_button__2oWJb"}},25:function(e,t,a){e.exports={link:"AuthMenu_link__2HiCh",activeLink:"AuthMenu_activeLink__3P4Du"}},37:function(e,t,a){e.exports={link:"Navigation_link__3DyUu",activeLink:"Navigation_activeLink__p2VN2"}},38:function(e,t,a){e.exports={container:"Container_container__3PBT8"}},39:function(e,t,a){e.exports={barHeader:"AppBar_barHeader__1O8YY"}},42:function(e,t,a){e.exports={loaderWrapper:"Loader_loaderWrapper__2r-H9"}},43:function(e,t,a){e.exports={header:"HomePageView_header__3b-Q1"}},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n,r,c=a(0),s=a.n(c),o=a(20),u=a.n(o),i=a(12),l=a(21),b=a(35),j=a(22),d=a(3),p=a(11),O=a(36),h=a.n(O),f=a(4),m=a(5),g=Object(d.b)("contacts/fetchContactRequest"),x=Object(d.b)("contacts/fetchContactSuccess"),v=Object(d.b)("contacts/fetchContactError"),_=Object(d.b)("contacts/addContactRequest"),k=Object(d.b)("contacts/addContactSuccess"),w=Object(d.b)("contacts/addContactError"),y=Object(d.b)("contacts/delContactRequest"),N=Object(d.b)("contacts/delContactSuccess"),C=Object(d.b)("contacts/delContactError"),L=(Object(d.b)("contacts/DELETE"),Object(d.b)("contacts/FILTER")),P=Object(d.d)([],(n={},Object(f.a)(n,x,(function(e,t){return t.payload})),Object(f.a)(n,k,(function(e,t){var a=t.payload;return e.map((function(e){return e.name})).includes(a.name)?(alert("".concat(a.name," is already in contacts!")),e):[].concat(Object(j.a)(e),[a])})),Object(f.a)(n,N,(function(e,t){var a=t.payload;return e.filter((function(e){return e.id!==a}))})),n)),V=Object(d.d)("",Object(f.a)({},L,(function(e,t){return t.payload}))),A=Object(d.d)(!1,(r={},Object(f.a)(r,g,(function(){return!0})),Object(f.a)(r,x,(function(){return!1})),Object(f.a)(r,v,(function(){return!1})),Object(f.a)(r,_,(function(){return!0})),Object(f.a)(r,k,(function(){return!1})),Object(f.a)(r,w,(function(){return!1})),Object(f.a)(r,y,(function(){return!0})),Object(f.a)(r,N,(function(){return!1})),Object(f.a)(r,C,(function(){return!1})),r)),R=Object(m.b)({items:P,filter:V,loading:A}),S=a(9),W=a.n(S),E=a(17),F=a(13),z=a.n(F);z.a.defaults.baseURL="https://connections-api.herokuapp.com";var H,I=function(e){z.a.defaults.headers.Authorization="Bearer ".concat(e)},q=function(){z.a.defaults.headers.Authorization=""},T=Object(d.c)("auth/register",function(){var e=Object(E.a)(W.a.mark((function e(t,a){var n,r,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,e.next=4,z.a.post("user/signup",t);case 4:return r=e.sent,c=r.data,I(c.token),e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",n(e.t0.data));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()),B=Object(d.c)("auth/login",function(){var e=Object(E.a)(W.a.mark((function e(t,a){var n,r,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,e.next=4,z.a.post("user/login",t);case 4:return r=e.sent,c=r.data,I(c.token),e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",n(e.t0.data));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()),D=Object(d.c)("auth/logout",function(){var e=Object(E.a)(W.a.mark((function e(t,a){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,e.next=4,z.a.post("user/logout");case 4:q(),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",n(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,a){return e.apply(this,arguments)}}()),J=Object(d.c)("auth/refresh",function(){var e=Object(E.a)(W.a.mark((function e(t,a){var n,r,c,s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.getState(),null!==(r=n.auth.token)){e.next=4;break}return e.abrupt("return",a.rejectWithValue());case 4:return I(r),e.prev=5,e.next=8,z.a.get("/users/current");case 8:return c=e.sent,s=c.data,e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(5),e.abrupt("return",a.rejectWithValue());case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,a){return e.apply(this,arguments)}}()),M={register:T,logIn:B,logOut:D,fetchCurrentUser:J},U=Object(d.e)({name:"auth",initialState:{user:{name:"",email:""},token:null,isLoggedIn:!1},extraReducers:(H={},Object(f.a)(H,M.register.fulfilled,(function(e,t){e.user=t.payload.user,e.token=t.payload.token,e.isLoggedIn=!0})),Object(f.a)(H,M.logIn.fulfilled,(function(e,t){e.user=t.payload.user,e.token=t.payload.token,e.isLoggedIn=!0})),Object(f.a)(H,M.logOut.fulfilled,(function(e,t){e.user={name:"",email:""},e.token=null,e.isLoggedIn=!1})),Object(f.a)(H,M.fetchCurrentUser.fulfilled,(function(e,t){e.user=t.payload,e.isLoggedIn=!0})),H)}).reducer,Z=Object(j.a)(Object(d.f)({serializableCheck:{ignoredActions:[p.a,p.f,p.b,p.c,p.d,p.e]}})),Y={key:"auth",storage:h.a,whitelist:["token"]},Q=Object(d.a)({reducer:{auth:Object(p.g)(Y,U),contacts:R},middleware:Z,devTools:!1}),$=Object(p.h)(Q),G=a(2),K=a(37),X=a.n(K),ee=a(1),te=function(){return Object(ee.jsx)(i.b,{to:"/",exact:"true",className:X.a.link,children:"Home"})},ae=a(38),ne=a.n(ae);function re(e){var t=e.children;return Object(ee.jsx)("div",{className:ne.a.container,children:t})}var ce=a(25),se=a.n(ce);function oe(){return Object(ee.jsxs)("div",{children:[Object(ee.jsx)(i.b,{exact:"true",to:"/register",className:se.a.link,children:"Register"}),Object(ee.jsx)(i.b,{exact:"true",to:"/login",className:se.a.link,children:"Login"})]})}var ue=a(39),ie=a.n(ue);function le(){return Object(ee.jsx)(re,{children:Object(ee.jsxs)("div",{className:ie.a.barHeader,children:[Object(ee.jsx)(te,{}),Object(ee.jsx)(oe,{})]})})}var be=a(40),je=a(41),de=a(46),pe=a(45),Oe=a(44),he=a(42),fe=a.n(he),me=function(e){Object(de.a)(a,e);var t=Object(pe.a)(a);function a(){return Object(be.a)(this,a),t.apply(this,arguments)}return Object(je.a)(a,[{key:"render",value:function(){return Object(ee.jsx)("div",{className:fe.a.loaderWrapper,children:Object(ee.jsx)(Oe.a,{color:"#00BFFF",height:100,width:100,timeout:3e3,visible:!0,ariaLabel:"loading"})})}}]),a}(c.Component),ge=a(43),xe=a.n(ge);function ve(){return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("h1",{className:xe.a.header,children:"Welcome!"})})}var _e=a(8),ke=a(10),we=a.n(ke);function ye(){var e=Object(l.b)(),t=Object(c.useState)(""),a=Object(_e.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),o=Object(_e.a)(s,2),u=o[0],i=o[1],b=Object(c.useState)(""),j=Object(_e.a)(b,2),d=j[0],p=j[1],O=function(e){var t=e.target,a=t.name,n=t.value;switch(a){case"name":return r(n);case"email":return i(n);case"password":return p(n)}};return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("h2",{style:{textAlign:"center",marginTop:20},children:"Register to create an account"}),Object(ee.jsx)("br",{}),Object(ee.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(M.register({name:n,email:u,password:d})),r(""),i(""),p("")},className:we.a.form,autoComplete:"off",children:[Object(ee.jsxs)("label",{className:we.a.label,children:["Name",Object(ee.jsx)("input",{type:"text",name:"name",placeholder:"enter your name",value:n,onChange:O,required:!0,autoFocus:"on",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",className:we.a.input})]}),Object(ee.jsxs)("label",{className:we.a.label,children:["E-mail",Object(ee.jsx)("input",{type:"email",name:"email",placeholder:"enter e-mail",value:u,onChange:O,required:!0,className:we.a.input})]}),Object(ee.jsxs)("label",{className:we.a.label,children:["Password",Object(ee.jsx)("input",{type:"password",name:"password",placeholder:"create password",value:d,onChange:O,required:!0,className:we.a.input})]}),Object(ee.jsx)("button",{type:"submit",className:we.a.button,children:"Register"})]})]})}var Ne=a(14),Ce=a.n(Ne);function Le(){return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("h2",{style:{textAlign:"center",marginTop:20},children:"Sign in to use Phonebook"}),Object(ee.jsxs)("form",{className:Ce.a.form,autoComplete:"off",children:[Object(ee.jsxs)("label",{className:Ce.a.label,children:["E-mail",Object(ee.jsx)("input",{type:"email",name:"email",placeholder:"enter e-mail",className:Ce.a.input,autoFocus:"on"})]}),Object(ee.jsxs)("label",{className:Ce.a.label,children:["Password",Object(ee.jsx)("input",{type:"password",name:"password",placeholder:"enter password",className:Ce.a.input})]}),Object(ee.jsx)("button",{type:"submit",className:Ce.a.button,children:"Login"})]})]})}function Pe(){return Object(ee.jsxs)(re,{children:[Object(ee.jsx)(le,{}),Object(ee.jsx)(c.Suspense,{fallback:Object(ee.jsx)(me,{}),children:Object(ee.jsxs)(G.c,{children:[Object(ee.jsx)(G.a,{path:"/",exact:"true",element:Object(ee.jsx)(ve,{})}),Object(ee.jsx)(G.a,{path:"/register",element:Object(ee.jsx)(ye,{})}),Object(ee.jsx)(G.a,{path:"/login",element:Object(ee.jsx)(Le,{})})]})})]})}a(76);u.a.render(Object(ee.jsx)(s.a.StrictMode,{children:Object(ee.jsx)(l.a,{store:Q,children:Object(ee.jsx)(b.a,{loading:null,persistor:$,children:Object(ee.jsx)(i.a,{children:Object(ee.jsx)(Pe,{})})})})}),document.querySelector("#root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.fd514ebe.chunk.js.map